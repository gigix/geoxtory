<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<%= stylesheet_link_tag 'application' %>
<%= javascript_include_tag :defaults, 'csv.js', 'http://www.google.com/jsapi', 'map_show' %>
	
<script type="text/javascript">
function initialize() {
	var map = createMap();	
	populateMap(map, "<%= url_for :controller => 'trips', :action => 'csv', :id => @trip %>");
}

google.setOnLoadCallback(initialize);
</script>
</head>
<body>
	<header>
		<%= image_tag 'logo.gif', :class => 'logo' %>
	</header>
	<div class='main'>
  		<div id="map_canvas"></div>
		<div id="locations">
			<ul>
				<%= render partial: 'location', collection: @trip.locations %>
			</ul>
		</div>
		<div id="current_location">
			<% unless @trip.locations.blank? %>
			<%= image_tag @trip.locations.first.image_url, :class => 'big_image' %>
			<% end %>
		</div>
	</div>
	<footer>
	</footer>
</body>
</html>